<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DesiPapa.xxx</title>
  <script src="https://cdn.tailwindcss.com"></script>

  <link rel="manifest" href="/manifest.json">

  <!-- Open Graph tags -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content="𝗦𝗵𝗮𝗿𝗲𝗱 𝘃𝗶𝗮 𝗧𝗲𝗿𝗮𝗕𝗼𝘅" />
  <meta property="og:description" content="Watch this content via TeraBox." />
  <meta property="og:url" content="https://honeycum.fun/play3.html" />
  <meta property="og:image" content="https://honeycum.fun/Terabox.png" />
  <meta property="og:site_name" content="TeraBox" />

  <style>
    .video-wrapper {
      position: relative;
      width: 100%;
      padding-top: 177.78%; /* 9:16 aspect ratio */
      overflow: hidden;
      border-radius: 0.5rem;
    }
    .video-wrapper iframe {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: none;
    }
    .error-message {
      color: #e53e3e;
      font-size: 1rem;
      text-align: center;
      padding: 1rem;
    }
  </style>
</head>
<body class="bg-gray-100 flex flex-col items-center min-h-screen">

  <!-- Header -->
  <header class="w-full h-16 bg-gray-900 text-white flex items-center justify-between px-4">
    <h1 class="text-lg font-semibold">TeraPlayer</h1>
    <a href="https://t.me/+Q656m5kaC245Njg1" target="_blank" rel="noopener noreferrer"
       class="bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded text-sm inline-block">
      Join Channel
    </a>
  </header>

  <!-- Stream Container -->
  <div class="stream-container w-full max-w-4xl mx-auto mt-1 flex flex-col items-center px-1">
    <h1 id="file-info" class="text-center text-lg font-medium text-gray-800 mb-4">
      Loading file...
    </h1>

    <div id="video-container" class="w-full bg-black rounded-lg">
      <div class="video-wrapper" id="video-wrapper">
        <!-- Iframe will be injected here -->
      </div>
    </div>
  </div> 

  <footer class="w-full bg-gray-900 text-gray-300 text-center text-xs py-2 mt-auto">
    ** Wait 10-15 sec to start streaming the video. Refresh this page if video doesn't load **
  </footer>

  <script>
    function getQueryParam(name) {
      const urlParams = new URLSearchParams(window.location.search);
      return urlParams.get(name);
    }

    const fileUrl = getQueryParam('q');
    const fileInfo = document.getElementById('file-info');
    const videoWrapper = document.getElementById('video-wrapper');

    if (fileUrl) {
      // Encode the TeraBox URL
      const encodedUrl = encodeURIComponent(fileUrl);
      const playerUrl = `https://playterabox.com/player?url=${encodedUrl}`;

      // Create iframe
      const iframe = document.createElement('iframe');
      iframe.src = playerUrl;
      iframe.allow = 'autoplay; fullscreen';
      videoWrapper.appendChild(iframe);

      // Update file info
      fileInfo.textContent = fileUrl;
    } else {
      fileInfo.textContent = "No file URL provided.";
      const errorDiv = document.createElement('div');
      errorDiv.className = "error-message";
      errorDiv.textContent = "Unable to load video. Please provide a valid TeraBox URL.";
      videoWrapper.appendChild(errorDiv);
    }
  </script>
</body>
</html>
